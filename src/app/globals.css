
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* ===== Crypto Finance App Design System ===== */

    /* üé® COLOR SYSTEM ------------------------- */

    /* Primary Colors (Dark Theme) */
    --bg-primary: 0 0% 0%;             /* #000000 */
    --bg-secondary: 0 0% 11%;          /* #1c1c1e */
    --bg-tertiary: 0 0% 17.3%;         /* #2c2c2e */
    --bg-quaternary: 0 0% 22.7%;       /* #3a3a3c */

    --text-primary: 0 0% 100%;         /* #ffffff */
    --text-secondary: 240 1% 60%;      /* #98989a */
    --text-tertiary: 240 1% 39%;       /* #636366 */
    --text-quaternary: 240 1% 29%;     /* #48484a */
    
    /* Accent Colors */
    --accent-primary: 0 100% 71%;      /* #ff6b6b (Pastel Red) */
    --accent-secondary: 0 100% 78%;    /* #ff8e8e */
    --accent-tertiary: 0 100% 85%;     /* #ffb3b3 */
    
    /* Semantic Colors */
    --market-up: 145 58% 55%;          /* #30d158 (Green) */
    --market-down: 0 100% 61%;         /* #ff453a (Red) */
    --market-neutral: 240 1% 60%;      /* #98989a (Gray) */

    --status-success: 145 58% 55%;
    --status-warning: 38 100% 61%;
    --status-error: 3 100% 61%;        /* Same as market-down */
    --status-info: 210 100% 50%;

    /* Chart Colors */
    --chart-color-1: 0 100% 71%;       /* Pastel red */
    --chart-color-2: 174 57% 59%;      /* Teal */
    --chart-color-3: 191 58% 54%;      /* Blue */
    --chart-color-4: 48 95% 59%;       /* Yellow */
    --chart-color-5: 23 99% 60%;       /* Orange */
    --chart-color-6: 1 82% 64%;        /* Red */
    --chart-color-7: 257 73% 67%;      /* Purple */
    --chart-color-8: 244 97% 81%;      /* Light purple */
    
    /* ShadCN Compatibility Layer */
    --background: var(--bg-primary);
    --foreground: var(--text-primary);
    --card: var(--bg-secondary);
    --card-foreground: var(--text-primary);
    --popover: var(--bg-tertiary);
    --popover-foreground: var(--text-primary);
    --primary: var(--accent-primary);
    --primary-foreground: 0 0% 0%; /* Black for high contrast on pastel red */
    --secondary: var(--bg-tertiary);
    --secondary-foreground: var(--text-primary);
    --muted: var(--bg-tertiary);
    --muted-foreground: var(--text-secondary);
    --accent: var(--bg-quaternary);
    --accent-foreground: var(--text-primary);
    --destructive: var(--status-error);
    --destructive-foreground: var(--text-primary);
    --border: var(--bg-tertiary);
    --input: var(--bg-tertiary);
    --ring: var(--accent-primary);
    
    /* üìê MODULAR SCALE ------------------------- */

    /* Typography Scale (Major Second - 1.125 ratio) */
    --text-xs: 0.711rem;   /* 11.38px */
    --text-sm: 0.8rem;     /* 12.8px */
    --text-base: 0.9rem;   /* 14.4px */
    --text-lg: 1.012rem;   /* 16.19px */
    --text-xl: 1.139rem;   /* 18.22px */
    --text-2xl: 1.281rem;   /* 20.49px */
    --text-3xl: 1.442rem;   /* 23.07px */
    --text-4xl: 1.622rem;   /* 25.95px */
    --text-5xl: 1.825rem;   /* 29.2px */
    --text-6xl: 2.053rem;   /* 32.85px */

    /* Spacing Scale (8px Grid System) */
    --space-1: 0.25rem;   /* 4px */
    --space-2: 0.5rem;    /* 8px */
    --space-3: 0.75rem;   /* 12px */
    --space-4: 1rem;      /* 16px */
    --space-5: 1.5rem;    /* 24px */
    --space-6: 2rem;      /* 32px */
    --space-7: 3rem;      /* 48px */
    --space-8: 4rem;      /* 64px */
    --space-9: 5rem;      /* 80px */
    --space-10: 6rem;     /* 96px */

    /* Border Radius Scale */
    --radius-1: 0.25rem;   /* 4px - Small controls, tags */
    --radius-2: 0.5rem;    /* 8px - Buttons, inputs */
    --radius-3: 0.75rem;   /* 12px - Cards, containers */
    --radius-4: 1rem;      /* 16px - Large containers, page sections */
    --radius-full: 9999px; /* Pills, circles */
    --radius: var(--radius-2); /* Default radius for shadcn */

    /* üî§ TYPOGRAPHY ------------------------- */
    --font-primary: "Plus Jakarta Sans", -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
    --font-mono: "SF Mono", Monaco, "Roboto Mono", monospace;
    
    /* üé¨ ANIMATION TOKENS --------------------- */
    --ease-out-expo: cubic-bezier(0.19, 1, 0.22, 1);
    --ease-out-circ: cubic-bezier(0.075, 0.82, 0.165, 1);
    --ease-out-quart: cubic-bezier(0.25, 1, 0.5, 1);
    --ease-in-out-quart: cubic-bezier(0.77, 0, 0.175, 1);

    --duration-fast: 0.15s;
    --duration-normal: 0.3s;
    --duration-slow: 0.5s;
    --duration-slower: 0.75s;
  }
  
  .dark {
    color-scheme: dark;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: var(--font-primary);
  }
}

@layer components {
  /* Typography Components */
  .headline-1 { @apply text-6xl font-bold; line-height: 1.1; }
  .headline-2 { @apply text-5xl font-bold; line-height: 1.1; }
  .headline-3 { @apply text-4xl font-semibold; line-height: 1.2; }
  .headline-4 { @apply text-3xl font-semibold; line-height: 1.2; }
  .headline-5 { @apply text-2xl font-semibold; line-height: 1.3; }
  .headline-6 { @apply text-xl font-semibold; line-height: 1.3; }

  .body-large { @apply text-lg font-normal; line-height: 1.6; }
  .body-regular { @apply text-base font-normal; line-height: 1.6; }
  .body-small { @apply text-sm font-normal; line-height: 1.5; }

  .caption-large { @apply text-sm font-medium; line-height: 1.4; }
  .caption-regular { @apply text-xs font-medium; line-height: 1.4; }

  .number-large { @apply font-mono text-2xl font-semibold; }
  .number-regular { @apply font-mono text-base font-medium; }
  .number-small { @apply font-mono text-sm font-medium; }

  /* Card Components */
  .card-primary { @apply bg-bg-secondary border border-border rounded-3 p-5; }
  .card-elevated { 
    @apply bg-bg-tertiary border border-border rounded-3 p-5 shadow-lg; 
  }
  .card-news { @apply bg-bg-secondary border border-border rounded-3 transition-all duration-normal ease-out-quart; }
  .card-news:hover { @apply border-accent-primary -translate-y-px shadow-lg; }
  
  /* Button Components */
  .btn-primary { 
    @apply bg-accent-primary text-primary-foreground font-semibold transition-all duration-fast ease-out-quart;
  }
  .btn-primary:hover {
    background-color: hsl(var(--accent-secondary));
    transform: translateY(-1px);
  }
  
  .btn-secondary { 
    @apply bg-bg-tertiary text-text-primary border border-border font-medium transition-all duration-fast ease-out-quart; 
  }
  .btn-secondary:hover {
    background-color: hsl(var(--bg-quaternary));
    border-color: hsl(var(--accent-primary));
  }

  .btn-ghost { @apply bg-transparent text-text-secondary border border-transparent font-medium transition-all duration-fast ease-out-quart; }
  .btn-ghost:hover { @apply bg-bg-tertiary text-text-primary; }
  
  /* Table Components */
  .table-container { @apply bg-bg-secondary border border-bg-tertiary rounded-3 overflow-hidden; }
  .table-header { @apply bg-bg-tertiary px-4 py-3 font-semibold text-text-secondary text-sm uppercase tracking-wider; }
  .table-row { @apply flex justify-between items-center px-4 py-3 border-b border-bg-tertiary transition-colors duration-fast ease-out-quart; }
  .table-row:hover { @apply bg-bg-tertiary; }
  .table-cell-number { @apply font-mono font-medium; }
  .table-cell-positive { @apply text-market-up; }
  .table-cell-negative { @apply text-market-down; }
  
  /* News Components */
  .news-item { @apply bg-bg-secondary border border-bg-tertiary rounded-3 p-4 mb-4 transition-all duration-normal ease-out-quart; }
  .news-item:hover { @apply border-accent-primary -translate-y-px; }
  .news-item-title { @apply headline-6 text-text-primary mb-2; }
  .news-item-excerpt { @apply body-regular text-text-secondary mb-3; }
  .news-item-meta { @apply caption-regular text-text-tertiary flex items-center gap-2; }
  
  /* Price Display */
  .price-display { @apply font-mono text-2xl font-semibold text-text-primary; }
  .price-change { @apply font-mono text-base font-medium flex items-center gap-1; }
  .price-change.positive { @apply text-market-up; }
  .price-change.negative { @apply text-market-down; }
  .price-change.neutral { @apply text-market-neutral; }

  /* Chart Container */
  .chart-container { @apply bg-bg-secondary border border-bg-tertiary rounded-3 p-5 relative; }
  .chart-header { @apply flex justify-between items-center mb-4; }
  .chart-title { @apply headline-5 text-text-primary; }
  .chart-controls { @apply flex gap-2; }
  
  /* Accessibility */
  .focus-ring:focus-visible { @apply outline-none ring-2 ring-accent-primary ring-offset-2 ring-offset-bg-primary; }
  .sr-only { @apply absolute w-px h-px p-0 -m-px overflow-hidden; clip: rect(0, 0, 0, 0); border: 0; }
  
  .skip-link { @apply absolute -top-10 left-2 bg-accent-primary text-primary-foreground px-3 py-2 no-underline z-50 rounded-2; }
  .skip-link:focus { @apply top-2; }
  
  /* Layout */
  .container-full { @apply w-full mx-auto px-4 sm:px-6 lg:px-8; }
  .section-spacing { @apply py-8 md:py-12 lg:py-16; }

  /* Prose Overrides */
  .prose-invert {
    --tw-prose-body: hsl(var(--text-secondary));
    --tw-prose-headings: hsl(var(--text-primary));
    --tw-prose-lead: hsl(var(--text-secondary));
    --tw-prose-links: hsl(var(--accent-primary));
    --tw-prose-bold: hsl(var(--text-primary));
    --tw-prose-counters: hsl(var(--text-tertiary));
    --tw-prose-bullets: hsl(var(--text-tertiary));
    --tw-prose-hr: hsl(var(--border));
    --tw-prose-quotes: hsl(var(--text-primary));
    --tw-prose-quote-borders: hsl(var(--accent-primary));
    --tw-prose-captions: hsl(var(--text-tertiary));
    --tw-prose-code: hsl(var(--text-primary));
    --tw-prose-pre-code: hsl(var(--text-primary));
    --tw-prose-pre-bg: hsl(var(--bg-tertiary));
    --tw-prose-th-borders: hsl(var(--border));
    --tw-prose-td-borders: hsl(var(--border));
  }
}

@layer utilities {
  /* Animations */
  @keyframes fadeInUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  @keyframes skeleton {
    0% { opacity: 1; }
    50% { opacity: 0.4; }
    100% { opacity: 1; }
  }
  @keyframes pricePulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
  }
  .animate-fadeInUp { animation: fadeInUp var(--duration-slow) var(--ease-out-quart) forwards; }
  .animate-skeleton { animation: skeleton 1.5s ease-in-out infinite; }
  .animate-pricePulse { animation: pricePulse var(--duration-normal) ease-in-out; }
  
  /* Reduced Motion */
  @media (prefers-reduced-motion: reduce) {
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }
}
